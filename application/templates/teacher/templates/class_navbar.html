
{# Generate SHA hash to allow the deletion of a class #}
{% set sha_hash = sha256((class_.identifier + class_.id|string + current_user.password).encode('utf-8')).hexdigest() %}

{# Class deletion modal, and sending the above hash to the deletion route through query parameters #}
<div class="modal" id="delete-class-modal">
    <div class="modal-background" onclick="removeActive(this)" data-target="delete-class-modal"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Delete class</p>
            <button class="delete" aria-label="close" onclick="removeActive(this)"
                    data-target="delete-class-modal"></button>
        </header>
        <section class="modal-card-body">
            Are you sure you want to delete the class? All of the students, problems, submissions, output files, input files,
            results, etc. will be permanently deleted.
        </section>
        <footer class="modal-card-foot">
            <a href="{{ url_for('teacher_class_delete', identifier=class_.identifier, hash=sha_hash) }}"
               class="button is-danger">Delete class</a>
            <button class="button" onclick="removeActive(this)" data-target="delete-class-modal">Cancel</button>
        </footer>
    </div>
</div>


<nav style="margin-top: 0;" class="navbar is-spaced mb-0">


    <div class="navbar-start">


        <a class="navbar-item ml-3" style="display: block;" href="{{ url_for('teacher_dashboard') }}">
            <p class="title is-5 has-text-centered">View Classes</p>
        </a>

        <a href="{{ url_for('teacher_class_home', identifier=class_.identifier) }}" class="navbar-item mx-5"
           style="display: block;">
            <p class="title is-3 has-text-centered">{{ class_.name }}</p>
        </a>


    </div>

    <div class="navbar-end">

{#        <button class="button is-info">Edit class</button>#}

        {# Pass the hash as a query parameter to the deletion route #}
        <button class="button is-danger ml-1" onclick="toggleActive(this)" data-target="delete-class-modal">Delete class
        </button>
    </div>


</nav>


{# A class's navbar #}
<nav style="margin-top: 0;" class="navbar is-spaced box mb-0" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">


        <a onclick="toggleActive(this)" data-target="navbar-template-mobile-open" role="button"
           class="navbar-burger burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>

    </div>


    <div class="navbar-menu" id="navbar-template-mobile-open">

        <div class="navbar-start">
            <a class="navbar-item mx-5" style="display: block;"
               href="{{ url_for('teacher_class_home', identifier=class_.identifier) }}">
                <img style="max-width: 150px; max-height:75px; height: auto; width: auto;"
                     src="https://res.cloudinary.com/dnwczwamg/image/upload/m-lms/required-images/home_knjayz.png"
                     alt="">
                <p class="has-text-centered">Home</p>
            </a>

            <a class="navbar-item mx-5" style="display: block;"
               href="{{ url_for('teacher_class_students', identifier=class_.identifier) }}">
                <img style="max-width: 150px; max-height:75px; height: auto; width: auto;"
                     src="https://res.cloudinary.com/dnwczwamg/image/upload/v1601428855/cc-lms/required-images/user_bem18t.png">
                <p class="has-text-centered">Students</p>
            </a>


        </div>


    </div>


</nav>

{# Show flashed messages with Bulma's notification class #}
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}

            <div class="notification is-{{ category }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}